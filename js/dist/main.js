//     Underscore.js 1.4.1
//     http://underscorejs.org
//     (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Underscore may be freely distributed under the MIT license.

/**
 * @license RequireJS text 2.0.3 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*

 JS Signals <http://millermedeiros.github.com/js-signals/>
 Released under the MIT license
 Author: Miller Medeiros
 Version: 0.8.1 - Build: 266 (2012/07/31 03:33 PM)
*/

/*
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */

// Knockout JavaScript library v2.1.0
// (c) Steven Sanderson - http://knockoutjs.com/
// License: MIT (http://www.opensource.org/licenses/mit-license.php)

(function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=r.unshift,l=i.toString,c=i.hasOwnProperty,h=r.forEach,p=r.map,d=r.reduce,v=r.reduceRight,m=r.filter,g=r.every,y=r.some,b=r.indexOf,w=r.lastIndexOf,E=Array.isArray,S=Object.keys,x=s.bind,T=function(e){if(e instanceof T)return e;if(!(this instanceof T))return new T(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=T),exports._=T):e._=T,T.VERSION="1.4.1";var N=T.each=T.forEach=function(e,t,r){if(h&&e.forEach===h)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(T.has(e,o)&&t.call(r,e[o],o,e)===n)return};T.map=T.collect=function(e,t,n){var r=[];return p&&e.map===p?e.map(t,n):(N(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)},T.reduce=T.foldl=T.inject=function(e,t,n,r){var i=arguments.length>2;if(d&&e.reduce===d)return r&&(t=T.bind(t,r)),i?e.reduce(t,n):e.reduce(t);N(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},T.reduceRight=T.foldr=function(e,t,n,r){var i=arguments.length>2;if(v&&e.reduceRight===v)return r&&(t=T.bind(t,r)),arguments.length>2?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=T.keys(e);s=o.length}N(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},T.find=T.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},T.filter=T.select=function(e,t,n){var r=[];return m&&e.filter===m?e.filter(t,n):(N(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},T.reject=function(e,t,n){var r=[];return N(e,function(e,i,s){t.call(n,e,i,s)||(r[r.length]=e)}),r},T.every=T.all=function(e,t,r){t||(t=T.identity);var i=!0;return g&&e.every===g?e.every(t,r):(N(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=T.some=T.any=function(e,t,r){t||(t=T.identity);var i=!1;return y&&e.some===y?e.some(t,r):(N(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};T.contains=T.include=function(e,t){var n=!1;return b&&e.indexOf===b?e.indexOf(t)!=-1:(n=C(e,function(e){return e===t}),n)},T.invoke=function(e,t){var n=u.call(arguments,2);return T.map(e,function(e){return(T.isFunction(t)?t:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,function(e){return e[t]})},T.where=function(e,t){return T.isEmpty(t)?[]:T.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},T.max=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&T.isEmpty(e))return-Infinity;var r={computed:-Infinity};return N(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},T.min=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&T.isEmpty(e))return Infinity;var r={computed:Infinity};return N(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},T.shuffle=function(e){var t,n=0,r=[];return N(e,function(e){t=T.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return T.isFunction(e)?e:function(t){return t[e]}};T.sortBy=function(e,t,n){var r=k(t);return T.pluck(T.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t);return N(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};T.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(T.has(e,t)?e[t]:e[t]=[]).push(n)})},T.countBy=function(e,t,n){return L(e,t,n,function(e,t,n){T.has(e,t)||(e[t]=0),e[t]++})},T.sortedIndex=function(e,t,n,r){n=n==null?T.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},T.toArray=function(e){return e?e.length===+e.length?u.call(e):T.values(e):[]},T.size=function(e){return e.length===+e.length?e.length:T.keys(e).length},T.first=T.head=T.take=function(e,t,n){return t!=null&&!n?u.call(e,0,t):e[0]},T.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},T.last=function(e,t,n){return t!=null&&!n?u.call(e,Math.max(e.length-t,0)):e[e.length-1]},T.rest=T.tail=T.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},T.compact=function(e){return T.filter(e,function(e){return!!e})};var A=function(e,t,n){return N(e,function(e){T.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};T.flatten=function(e,t){return A(e,t,[])},T.without=function(e){return T.difference(e,u.call(arguments,1))},T.uniq=T.unique=function(e,t,n,r){var i=n?T.map(e,n,r):e,s=[],o=[];return N(i,function(n,r){if(t?!r||o[o.length-1]!==n:!T.contains(o,n))o.push(n),s.push(e[r])}),s},T.union=function(){return T.uniq(a.apply(r,arguments))},T.intersection=function(e){var t=u.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.indexOf(t,e)>=0})})},T.difference=function(e){var t=a.apply(r,u.call(arguments,1));return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){var e=u.call(arguments),t=T.max(T.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=T.pluck(e,""+r);return n},T.object=function(e,t){var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},T.indexOf=function(e,t,n){var r=0,i=e.length;if(n){if(typeof n!="number")return r=T.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},T.lastIndexOf=function(e,t,n){var r=n!=null;if(w&&e.lastIndexOf===w)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},T.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};T.bind=function(e,t){var n,r;if(e.bind===x&&x)return x.apply(e,u.call(arguments,1));if(!T.isFunction(e))throw new TypeError;return r=u.call(arguments,2),n=function(){if(this instanceof n){O.prototype=e.prototype;var i=new O,s=e.apply(i,r.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,r.concat(u.call(arguments)))}},T.bindAll=function(e){var t=u.call(arguments,1);return t.length==0&&(t=T.functions(e)),N(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var r=t.apply(this,arguments);return T.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},T.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(u.call(arguments,1)))},T.throttle=function(e,t){var n,r,i,s,o,u,a=T.debounce(function(){o=s=!1},t);return function(){n=this,r=arguments;var f=function(){i=null,o&&(u=e.apply(n,r)),a()};return i||(i=setTimeout(f,t)),s?o=!0:(s=!0,u=e.apply(n,r)),a(),u}},T.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},T.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},T.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},T.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},T.keys=S||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)T.has(e,n)&&(t[t.length]=n);return t},T.values=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push(e[n]);return t},T.pairs=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push([n,e[n]]);return t},T.invert=function(e){var t={};for(var n in e)T.has(e,n)&&(t[e[n]]=n);return t},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return N(u.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},T.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return N(n,function(n){n in e&&(t[n]=e[n])}),t},T.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)T.contains(n,i)||(t[i]=e[i]);return t},T.defaults=function(e){return N(u.call(arguments,1),function(t){for(var n in t)e[n]==null&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var i=l.call(e);if(i!=l.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=e.length,u=o==t.length;if(u)while(o--)if(!(u=M(e[o],t[o],n,r)))break}else{var a=e.constructor,f=t.constructor;if(a!==f&&!(T.isFunction(a)&&a instanceof a&&T.isFunction(f)&&f instanceof f))return!1;for(var c in e)if(T.has(e,c)){o++;if(!(u=T.has(t,c)&&M(e[c],t[c],n,r)))break}if(u){for(c in t)if(T.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};T.isEqual=function(e,t){return M(e,t,[],[])},T.isEmpty=function(e){if(e==null)return!0;if(T.isArray(e)||T.isString(e))return e.length===0;for(var t in e)if(T.has(e,t))return!1;return!0},T.isElement=function(e){return!!e&&e.nodeType===1},T.isArray=E||function(e){return l.call(e)=="[object Array]"},T.isObject=function(e){return e===Object(e)},N(["Arguments","Function","String","Number","Date","RegExp"],function(e){T["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return!!e&&!!T.has(e,"callee")}),typeof /./!="function"&&(T.isFunction=function(e){return typeof e=="function"}),T.isFinite=function(e){return T.isNumber(e)&&isFinite(e)},T.isNaN=function(e){return T.isNumber(e)&&e!=+e},T.isBoolean=function(e){return e===!0||e===!1||l.call(e)=="[object Boolean]"},T.isNull=function(e){return e===null},T.isUndefined=function(e){return e===void 0},T.has=function(e,t){return c.call(e,t)},T.noConflict=function(){return e._=t,this},T.identity=function(e){return e},T.times=function(e,t,n){for(var r=0;r<e;r++)t.call(n,r)},T.random=function(e,t){return t==null&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};_.unescape=T.invert(_.escape);var D={escape:new RegExp("["+T.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(_.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(e){T[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),T.result=function(e,t){if(e==null)return null;var n=e[t];return T.isFunction(n)?n.call(e):n},T.mixin=function(e){N(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(T,e))}})};var P=0;T.uniqueId=function(e){var t=P++;return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(e,t,n){n=T.defaults({},n,T.templateSettings);var r=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){s+=e.slice(i,u).replace(j,function(e){return"\\"+B[e]}),s+=n?"'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?"'+\n((__t=("+r+"))==null?'':__t)+\n'":o?"';\n"+o+"\n__p+='":"",i=u+t.length}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(n.variable||"obj","_",s)}catch(u){throw u.source=s,u}if(t)return o(t,T);var a=function(e){return o.call(this,e,T)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},T.chain=function(e){return T(e).chain()};var F=function(e){return this._chain?T(e).chain():e};T.mixin(T),N(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];T.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),N(["concat","join","slice"],function(e){var t=r[e];T.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this),define("underscore",function(e){return function(){var t,n;return t||e._}}(this)),define("text",["module"],function(e){var t,n,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,s=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,o=typeof location!="undefined"&&location.href,u=o&&location.protocol&&location.protocol.replace(/\:/,""),a=o&&location.hostname,f=o&&(location.port||undefined),l=[],c=e.config&&e.config()||{};t={version:"2.0.3",strip:function(e){if(e){e=e.replace(i,"");var t=e.match(s);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:c.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=r[t];try{e=new ActiveXObject(n)}catch(i){}if(e){r=[n];break}}return e},parseName:function(e){var t=!1,n=e.indexOf("."),r=e.substring(0,n),i=e.substring(n+1,e.length);return n=i.indexOf("!"),n!==-1&&(t=i.substring(n+1,i.length),t=t==="strip",i=i.substring(0,n)),{moduleName:r,ext:i,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,c.isBuild&&(l[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}c.isBuild=i.isBuild;var s=t.parseName(e),l=s.moduleName+"."+s.ext,h=n.toUrl(l),p=c.useXhr||t.useXhr;!o||p(h,u,a,f)?t.get(h,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([l],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(l.hasOwnProperty(n)){var s=t.jsEscape(l[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.moduleName+"."+o.ext,a=r.toUrl(o.moduleName+"."+o.ext)+".js";t.load(u,r,function(n){var r=function(e){return i(a,e)};r.asModule=function(e,t){return i.asModule(e,a,t)},t.write(e,u,r,s)},s)}};if(c.env==="node"||!c.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node)n=require.nodeRequire("fs"),t.get=function(e,t){var r=n.readFileSync(e,"utf8");r.indexOf("ï»¿")===0&&(r=r.substring(1)),t(r)};else if(c.env==="xhr"||!c.env&&t.createXhr())t.get=function(e,n,r){var i=t.createXhr();i.open("GET",e,!0),c.onXhr&&c.onXhr(i,e),i.onreadystatechange=function(t){var s,o;i.readyState===4&&(s=i.status,s>399&&s<600?(o=new Error(e+" HTTP status: "+s),o.xhr=i,r(o)):n(i.responseText))},i.send(null)};else if(c.env==="rhino"||!c.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};return t}),define("text!frontpage/template.html",[],function(){return'<style type="text/css">\n  .title {\n    border-bottom: 1px solid #999;\n  }\n</style>\n<div class="container-fluid">\n  <div class="row-fluid">\n    <h1 class="page-header">\n      David Hayes\n      <small>Turing machine wrangler</small>\n    </h1>\n  </div>\n  <div class="row-fluid">\n    <div class="span6">\n      <section class="well">\n        <ul class="unstyled">\n          <li>\n            <a href="#app=resources"><i class="icon-beaker"></i> Resources</a>\n            <p>An experiment in abstract machinery.</p>\n          </li>\n        </ul>\n      </section>\n    </div>\n  </div>\n</div>\n'}),function(e){function t(e,t,n,r,i){this._listener=t,this._isOnce=n,this.context=r,this._signal=e,this._priority=i||0}function n(e,t){if(typeof e!="function")throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function r(){this._bindings=[],this._prevParams=null}t.prototype={active:!0,params:null,execute:function(e){var t;return this.active&&this._listener&&(e=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,e),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},getListener:function(){return this._listener},_destroy:function(){delete this._signal,delete this._listener,delete this.context},isOnce:function(){return this._isOnce},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},r.prototype={VERSION:"0.8.1",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,n,r,i){var s=this._indexOfListener(e,r);if(s!==-1){if(e=this._bindings[s],e.isOnce()!==n)throw Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else e=new t(this,e,n,r,i),this._addBinding(e);return this.memorize&&this._prevParams&&e.execute(this._prevParams),e},_addBinding:function(e){var t=this._bindings.length;do--t;while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n=this._bindings.length,r;n--;)if(r=this._bindings[n],r._listener===e&&r.context===t)return n;return-1},has:function(e,t){return this._indexOfListener(e,t)!==-1},add:function(e,t,r){return n(e,"add"),this._registerListener(e,!1,t,r)},addOnce:function(e,t,r){return n(e,"addOnce"),this._registerListener(e,!0,t,r)},remove:function(e,t){n(e,"remove");var r=this._indexOfListener(e,t);return r!==-1&&(this._bindings[r]._destroy(),this._bindings.splice(r,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t=Array.prototype.slice.call(arguments),n=this._bindings.length,r;this.memorize&&(this._prevParams=t);if(n){r=this._bindings.slice(),this._shouldPropagate=!0;do n--;while(r[n]&&this._shouldPropagate&&r[n].execute(t)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},r.Signal=r,typeof define=="function"&&define.amd?define("signals",[],function(){return r}):typeof module!="undefined"&&module.exports?module.exports=r:e.signals=r}(this),function(e,t,n){function f(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var r="hashchange",i=document,s,o=e.event.special,u=i.documentMode,a="on"+r in t&&(u===n||u>7);e.fn[r]=function(e){return e?this.bind(r,e):this.trigger(r)},e.fn[r].delay=50,o[r]=e.extend(o[r],{setup:function(){if(a)return!1;e(s.start)},teardown:function(){if(a)return!1;e(s.stop)}}),s=function(){function m(){var n=f(),i=v(u);n!==u?(p(u=n,i),e(t).trigger(r)):i!==u&&(location.href=location.href.replace(/#.*/,"")+i),o=setTimeout(m,e.fn[r].delay)}var s={},o,u=f(),l=function(e){return e},p=l,v=l;return s.start=function(){o||m()},s.stop=function(){o&&clearTimeout(o),o=n},e.browser.msie&&!a&&function(){var t,n;s.start=function(){t||(n=e.fn[r].src,n=n&&n+f(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){n||p(f()),m()}).attr("src",n||"javascript:0").insertAfter("body")[0].contentWindow,i.onpropertychange=function(){try{event.propertyName==="title"&&(t.document.title=i.title)}catch(e){}})},s.stop=l,v=function(){return f(t.location.href)},p=function(n,s){var o=t.document,u=e.fn[r].domain;n!==s&&(o.title=i.title,o.open(),u&&o.write('<script>document.domain="'+u+'"</script>'),o.close(),t.location.hash=n)}}(),s}()}(jQuery,this),define("hashchange",function(){}),define("system/urlHash",["underscore","signals","hashchange"],function(e,t){var n={changed:new t,onHashchange:function(){var t=window.location.hash||"";t=t.substring(1);var n=e.map(t.split("&"),function(e){var t=e.split("=");return[decodeURIComponent(t[0]),decodeURIComponent(t[1])]}),r=e.object(n);this.changed.dispatch(r)}},r=e.bind(n.onHashchange,n);return $(window).hashchange(r),n}),function(e,t,n,r){function i(e){throw e}function f(e){return function(){return e}}function l(r){function l(e,t,n){n&&t!==c.k.r(e)&&c.k.S(e,t),t!==c.k.r(e)&&c.a.va(e,"change")}var c="undefined"!=typeof r?r:{};c.b=function(e,t){for(var n=e.split("."),r=c,i=0;i<n.length-1;i++)r=r[n[i]];r[n[n.length-1]]=t},c.B=function(e,t,n){e[t]=n},c.version="2.1.0",c.b("version",c.version),c.a=new function(){function r(e,t){if("input"!==c.a.o(e)||!e.type||"click"!=t.toLowerCase())return a;var n=e.type;return"checkbox"==n||"radio"==n}var f=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,l={},h={};l[/Firefox\/2/i.test(n.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],l.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");for(var d in l){var v=l[d];if(v.length)for(var g=0,y=v.length;g<y;g++)h[v[g]]=d}var b={propertychange:o},w=function(){for(var e=3,n=t.createElement("div"),r=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",r[0];);return 4<e?e:s}();return{Ca:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],v:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n])},j:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},ab:function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r]))return e[r];return u},ba:function(e,t){var n=c.a.j(e,t);0<=n&&e.splice(n,1)},za:function(e){for(var e=e||[],t=[],n=0,r=e.length;n<r;n++)0>c.a.j(t,e[n])&&t.push(e[n]);return t},T:function(e,t){for(var e=e||[],n=[],r=0,i=e.length;r<i;r++)n.push(t(e[r]));return n},aa:function(e,t){for(var e=e||[],n=[],r=0,i=e.length;r<i;r++)t(e[r])&&n.push(e[r]);return n},N:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},extend:function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},ga:function(e){for(;e.firstChild;)c.removeNode(e.firstChild)},Ab:function(e){for(var e=c.a.L(e),n=t.createElement("div"),r=0,i=e.length;r<i;r++)c.F(e[r]),n.appendChild(e[r]);return n},X:function(e,t){c.a.ga(e);if(t)for(var n=0,r=t.length;n<r;n++)e.appendChild(t[n])},Na:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var r=n[0],i=r.parentNode,s=0,o=t.length;s<o;s++)i.insertBefore(t[s],r);s=0;for(o=n.length;s<o;s++)c.removeNode(n[s])}},Pa:function(e,t){0<=n.userAgent.indexOf("MSIE 6")?e.setAttribute("selected",t):e.selected=t},w:function(e){return(e||"").replace(f,"")},Ib:function(e,t){for(var n=[],r=(e||"").split(t),i=0,s=r.length;i<s;i++){var o=c.a.w(r[i]);""!==o&&n.push(o)}return n},Hb:function(e,t){return e=e||"",t.length>e.length?a:e.substring(0,t.length)===t},eb:function(e,t){for(var n="return ("+e+")",r=0;r<t;r++)n="with(sc["+r+"]) { "+n+" } ";return new Function("sc",n)},kb:function(e,t){if(t.compareDocumentPosition)return 16==(t.compareDocumentPosition(e)&16);for(;e!=u;){if(e==t)return o;e=e.parentNode}return a},fa:function(e){return c.a.kb(e,e.ownerDocument)},o:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},n:function(e,t,n){var s=w&&b[t];if(!s&&"undefined"!=typeof jQuery){if(r(e,t))var u=n,n=function(e,t){var n=this.checked;t&&(this.checked=t.fb!==o),u.call(this,e),this.checked=n};jQuery(e).bind(t,n)}else!s&&"function"==typeof e.addEventListener?e.addEventListener(t,n,a):"undefined"!=typeof e.attachEvent?e.attachEvent("on"+t,function(t){n.call(e,t)}):i(Error("Browser doesn't support addEventListener or attachEvent"))},va:function(n,s){(!n||!n.nodeType)&&i(Error("element must be a DOM node when calling triggerEvent"));if("undefined"!=typeof jQuery){var u=[];r(n,s)&&u.push({fb:n.checked}),jQuery(n).trigger(s,u)}else"function"==typeof t.createEvent?"function"==typeof n.dispatchEvent?(u=t.createEvent(h[s]||"HTMLEvents"),u.initEvent(s,o,o,e,0,0,0,0,0,a,a,a,a,0,n),n.dispatchEvent(u)):i(Error("The supplied element doesn't support dispatchEvent")):"undefined"!=typeof n.fireEvent?(r(n,s)&&(n.checked=n.checked!==o),n.fireEvent("on"+s)):i(Error("Browser doesn't support triggering events"))},d:function(e){return c.la(e)?e():e},Ua:function(e,t,n){var r=(e.className||"").split(/\s+/),i=0<=c.a.j(r,t);if(n&&!i)e.className+=(r[0]?" ":"")+t;else if(i&&!n){n="";for(i=0;i<r.length;i++)r[i]!=t&&(n+=r[i]+" ");e.className=c.a.w(n)}},Qa:function(e,t){var n=c.a.d(t);if(n===u||n===s)n="";"innerText"in e?e.innerText=n:e.textContent=n,9<=w&&(e.style.display=e.style.display)},lb:function(e){if(9<=w){var t=e.style.width;e.style.width=0,e.style.width=t}},Eb:function(e,t){for(var e=c.a.d(e),t=c.a.d(t),n=[],r=e;r<=t;r++)n.push(r);return n},L:function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},tb:6===w,ub:7===w,ja:w,Da:function(e,t){for(var n=c.a.L(e.getElementsByTagName("input")).concat(c.a.L(e.getElementsByTagName("textarea"))),r="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},i=[],s=n.length-1;0<=s;s--)r(n[s])&&i.push(n[s]);return i},Bb:function(t){return"string"==typeof t&&(t=c.a.w(t))?e.JSON&&e.JSON.parse?e.JSON.parse(t):(new Function("return "+t))():u},sa:function(e,t,n){return("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&i(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")),JSON.stringify(c.a.d(e),t,n)},Cb:function(e,n,r){var r=r||{},i=r.params||{},s=r.includeFields||this.Ca,o=e;if("object"==typeof e&&"form"===c.a.o(e))for(var o=e.action,u=s.length-1;0<=u;u--)for(var a=c.a.Da(e,s[u]),f=a.length-1;0<=f;f--)i[a[f].name]=a[f].value;var n=c.a.d(n),l=t.createElement("form");l.style.display="none",l.action=o,l.method="post";for(var h in n)e=t.createElement("input"),e.name=h,e.value=c.a.sa(c.a.d(n[h])),l.appendChild(e);for(h in i)e=t.createElement("input"),e.name=h,e.value=i[h],l.appendChild(e);t.body.appendChild(l),r.submitter?r.submitter(l):l.submit(),setTimeout(function(){l.parentNode.removeChild(l)},0)}}},c.b("utils",c.a),c.b("utils.arrayForEach",c.a.v),c.b("utils.arrayFirst",c.a.ab),c.b("utils.arrayFilter",c.a.aa),c.b("utils.arrayGetDistinctValues",c.a.za),c.b("utils.arrayIndexOf",c.a.j),c.b("utils.arrayMap",c.a.T),c.b("utils.arrayPushAll",c.a.N),c.b("utils.arrayRemoveItem",c.a.ba),c.b("utils.extend",c.a.extend),c.b("utils.fieldsIncludedWithJsonPost",c.a.Ca),c.b("utils.getFormFields",c.a.Da),c.b("utils.postJson",c.a.Cb),c.b("utils.parseJson",c.a.Bb),c.b("utils.registerEventHandler",c.a.n),c.b("utils.stringifyJson",c.a.sa),c.b("utils.range",c.a.Eb),c.b("utils.toggleDomNodeCssClass",c.a.Ua),c.b("utils.triggerEvent",c.a.va),c.b("utils.unwrapObservable",c.a.d),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments),e=n.shift();return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),c.a.f=new function(){var e=0,t="__ko__"+(new Date).getTime(),n={};return{get:function(e,t){var n=c.a.f.getAll(e,a);return n===s?s:n[t]},set:function(e,t,n){n===s&&c.a.f.getAll(e,a)===s||(c.a.f.getAll(e,o)[t]=n)},getAll:function(r,i){var s=r[t];if(!s||"null"===s){if(!i)return;s=r[t]="ko"+e++,n[s]={}}return n[s]},clear:function(e){var r=e[t];r&&(delete n[r],e[t]=u)}}},c.b("utils.domData",c.a.f),c.b("utils.domData.clear",c.a.f.clear),c.a.G=new function(){function e(e,t){var r=c.a.f.get(e,n);return r===s&&t&&(r=[],c.a.f.set(e,n,r)),r}function t(n){var r=e(n,a);if(r)for(var r=r.slice(0),i=0;i<r.length;i++)r[i](n);c.a.f.clear(n),"function"==typeof jQuery&&"function"==typeof jQuery.cleanData&&jQuery.cleanData([n]);if(u[n.nodeType])for(r=n.firstChild;n=r;)r=n.nextSibling,8===n.nodeType&&t(n)}var n="__ko_domNodeDisposal__"+(new Date).getTime(),r={1:o,8:o,9:o},u={1:o,9:o};return{wa:function(t,n){"function"!=typeof n&&i(Error("Callback must be a function")),e(t,o).push(n)},Ma:function(t,r){var i=e(t,a);i&&(c.a.ba(i,r),0==i.length&&c.a.f.set(t,n,s))},F:function(e){if(r[e.nodeType]&&(t(e),u[e.nodeType])){var n=[];c.a.N(n,e.getElementsByTagName("*"));for(var e=0,i=n.length;e<i;e++)t(n[e])}},removeNode:function(e){c.F(e),e.parentNode&&e.parentNode.removeChild(e)}}},c.F=c.a.G.F,c.removeNode=c.a.G.removeNode,c.b("cleanNode",c.F),c.b("removeNode",c.removeNode),c.b("utils.domNodeDisposal",c.a.G),c.b("utils.domNodeDisposal.addDisposeCallback",c.a.G.wa),c.b("utils.domNodeDisposal.removeDisposeCallback",c.a.G.Ma),function(){c.a.pa=function(n){var r;if("undefined"!=typeof jQuery){if((r=jQuery.clean([n]))&&r[0]){for(n=r[0];n.parentNode&&11!==n.parentNode.nodeType;)n=n.parentNode;n.parentNode&&n.parentNode.removeChild(n)}}else{var i=c.a.w(n).toLowerCase();r=t.createElement("div"),i=i.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!i.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!i.indexOf("<td")||!i.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],n="ignored<div>"+i[1]+n+i[2]+"</div>";for("function"==typeof e.innerShiv?r.appendChild(e.innerShiv(n)):r.innerHTML=n;i[0]--;)r=r.lastChild;r=c.a.L(r.lastChild.childNodes)}return r},c.a.Y=function(e,t){c.a.ga(e);if(t!==u&&t!==s)if("string"!=typeof t&&(t=t.toString()),"undefined"!=typeof jQuery)jQuery(e).html(t);else for(var n=c.a.pa(t),r=0;r<n.length;r++)e.appendChild(n[r])}}(),c.b("utils.parseHtmlFragment",c.a.pa),c.b("utils.setHtml",c.a.Y),c.s=function(){function e(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function t(e,n){if(e)if(8==e.nodeType){var r=c.s.Ja(e.nodeValue);r!=u&&n.push({jb:e,yb:r})}else if(1==e.nodeType)for(var r=0,i=e.childNodes,s=i.length;r<s;r++)t(i[r],n)}var n={};return{na:function(t){"function"!=typeof t&&i(Error("You can only pass a function to ko.memoization.memoize()"));var r=e()+e();return n[r]=t,"<!--[ko_memo:"+r+"]-->"},Va:function(e,t){var r=n[e];r===s&&i(Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized."));try{return r.apply(u,t||[]),o}finally{delete n[e]}},Wa:function(e,n){var r=[];t(e,r);for(var i=0,s=r.length;i<s;i++){var o=r[i].jb,u=[o];n&&c.a.N(u,n),c.s.Va(r[i].yb,u),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},Ja:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:u}}}(),c.b("memoization",c.s),c.b("memoization.memoize",c.s.na),c.b("memoization.unmemoize",c.s.Va),c.b("memoization.parseMemoText",c.s.Ja),c.b("memoization.unmemoizeDomNodeAndDescendants",c.s.Wa),c.Ba={throttle:function(e,t){e.throttleEvaluation=t;var n=u;return c.h({read:e,write:function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}})},notify:function(e,t){return e.equalityComparer="always"==t?f(a):c.m.fn.equalityComparer,e}},c.b("extenders",c.Ba),c.Sa=function(e,t,n){this.target=e,this.ca=t,this.ib=n,c.B(this,"dispose",this.A)},c.Sa.prototype.A=function(){this.sb=o,this.ib()},c.R=function(){this.u={},c.a.extend(this,c.R.fn),c.B(this,"subscribe",this.ta),c.B(this,"extend",this.extend),c.B(this,"getSubscriptionsCount",this.ob)},c.R.fn={ta:function(e,t,n){var n=n||"change",e=t?e.bind(t):e,r=new c.Sa(this,e,function(){c.a.ba(this.u[n],r)}.bind(this));return this.u[n]||(this.u[n]=[]),this.u[n].push(r),r},notifySubscribers:function(e,t){t=t||"change",this.u[t]&&c.a.v(this.u[t].slice(0),function(t){t&&t.sb!==o&&t.ca(e)})},ob:function(){var e=0,t;for(t in this.u)this.u.hasOwnProperty(t)&&(e+=this.u[t].length);return e},extend:function(e){var t=this;if(e)for(var n in e){var r=c.Ba[n];"function"==typeof r&&(t=r(t,e[n]))}return t}},c.Ga=function(e){return"function"==typeof e.ta&&"function"==typeof e.notifySubscribers},c.b("subscribable",c.R),c.b("isSubscribable",c.Ga),c.U=function(){var e=[];return{bb:function(t){e.push({ca:t,Aa:[]})},end:function(){e.pop()},La:function(t){c.Ga(t)||i(Error("Only subscribable things can act as dependencies"));if(0<e.length){var n=e[e.length-1];0<=c.a.j(n.Aa,t)||(n.Aa.push(t),n.ca(t))}}}}();var h={"undefined":o,"boolean":o,number:o,string:o};c.m=function(e){function t(){if(0<arguments.length){if(!t.equalityComparer||!t.equalityComparer(n,arguments[0]))t.I(),n=arguments[0],t.H();return this}return c.U.La(t),n}var n=e;return c.R.call(t),t.H=function(){t.notifySubscribers(n)},t.I=function(){t.notifySubscribers(n,"beforeChange")},c.a.extend(t,c.m.fn),c.B(t,"valueHasMutated",t.H),c.B(t,"valueWillMutate",t.I),t},c.m.fn={equalityComparer:function(e,t){return e===u||typeof e in h?e===t:a}};var d=c.m.Db="__ko_proto__";c.m.fn[d]=c.m,c.ia=function(e,t){return e===u||e===s||e[d]===s?a:e[d]===t?o:c.ia(e[d],t)},c.la=function(e){return c.ia(e,c.m)},c.Ha=function(e){return"function"==typeof e&&e[d]===c.m||"function"==typeof e&&e[d]===c.h&&e.pb?o:a},c.b("observable",c.m),c.b("isObservable",c.la),c.b("isWriteableObservable",c.Ha),c.Q=function(e){0==arguments.length&&(e=[]),e!==u&&e!==s&&!("length"in e)&&i(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var t=c.m(e);return c.a.extend(t,c.Q.fn),t},c.Q.fn={remove:function(e){for(var t=this(),n=[],r="function"==typeof e?e:function(t){return t===e},i=0;i<t.length;i++){var s=t[i];r(s)&&(0===n.length&&this.I(),n.push(s),t.splice(i,1),i--)}return n.length&&this.H(),n},removeAll:function(e){if(e===s){var t=this(),n=t.slice(0);return this.I(),t.splice(0,t.length),this.H(),n}return e?this.remove(function(t){return 0<=c.a.j(e,t)}):[]},destroy:function(e){var t=this(),n="function"==typeof e?e:function(t){return t===e};this.I();for(var r=t.length-1;0<=r;r--)n(t[r])&&(t[r]._destroy=o);this.H()},destroyAll:function(e){return e===s?this.destroy(f(o)):e?this.destroy(function(t){return 0<=c.a.j(e,t)}):[]},indexOf:function(e){var t=this();return c.a.j(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.I(),this()[n]=t,this.H())}},c.a.v("pop push reverse shift sort splice unshift".split(" "),function(e){c.Q.fn[e]=function(){var t=this();return this.I(),t=t[e].apply(t,arguments),this.H(),t}}),c.a.v(["slice"],function(e){c.Q.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),c.b("observableArray",c.Q),c.h=function(e,t,n){function r(){c.a.v(S,function(e){e.A()}),S=[]}function l(){var e=d.throttleEvaluation;e&&0<=e?(clearTimeout(k),k=setTimeout(h,e)):h()}function h(){if(!b)if(y&&N())x();else{b=o;try{var e=c.a.T(S,function(e){return e.target});c.U.bb(function(t){var n;0<=(n=c.a.j(e,t))?e[n]=s:S.push(t.ta(l))});for(var n=w.call(t),r=e.length-1;0<=r;r--)e[r]&&S.splice(r,1)[0].A();y=o,d.notifySubscribers(g,"beforeChange"),g=n}finally{c.U.end()}d.notifySubscribers(g),b=a}}function d(){if(!(0<arguments.length))return y||h(),c.U.La(d),g;v.apply(d,arguments)}function v(){"function"==typeof E?E.apply(t,arguments):i(Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters."))}var g,y=a,b=a,w=e;w&&"object"==typeof w?(n=w,w=n.read):(n=n||{},w||(w=n.read)),"function"!=typeof w&&i(Error("Pass a function that returns the value of the ko.computed"));var E=n.write;t||(t=n.owner);var S=[],x=r,T="object"==typeof n.disposeWhenNodeIsRemoved?n.disposeWhenNodeIsRemoved:u,N=n.disposeWhen||f(a);if(T){x=function(){c.a.G.Ma(T,arguments.callee),r()},c.a.G.wa(T,x);var C=N,N=function(){return!c.a.fa(T)||C()}}var k=u;return d.nb=function(){return S.length},d.pb="function"==typeof n.write,d.A=function(){x()},c.R.call(d),c.a.extend(d,c.h.fn),n.deferEvaluation!==o&&h(),c.B(d,"dispose",d.A),c.B(d,"getDependenciesCount",d.nb),d},c.rb=function(e){return c.ia(e,c.h)},r=c.m.Db,c.h[r]=c.m,c.h.fn={},c.h.fn[r]=c.h,c.b("dependentObservable",c.h),c.b("computed",c.h),c.b("isComputed",c.rb),function(){function e(r,i,o){o=o||new n,r=i(r);if("object"!=typeof r||r===u||r===s||r instanceof Date)return r;var a=r instanceof Array?[]:{};return o.save(r,a),t(r,function(t){var n=i(r[t]);switch(typeof n){case"boolean":case"number":case"string":case"function":a[t]=n;break;case"object":case"undefined":var u=o.get(n);a[t]=u!==s?u:e(n,i,o)}}),a}function t(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}function n(){var e=[],t=[];this.save=function(n,r){var i=c.a.j(e,n);0<=i?t[i]=r:(e.push(n),t.push(r))},this.get=function(n){return n=c.a.j(e,n),0<=n?t[n]:s}}c.Ta=function(t){return 0==arguments.length&&i(Error("When calling ko.toJS, pass the object you want to convert.")),e(t,function(e){for(var t=0;c.la(e)&&10>t;t++)e=e();return e})},c.toJSON=function(e,t,n){return e=c.Ta(e),c.a.sa(e,t,n)}}(),c.b("toJS",c.Ta),c.b("toJSON",c.toJSON),function(){c.k={r:function(e){switch(c.a.o(e)){case"option":return e.__ko__hasDomDataOptionValue__===o?c.a.f.get(e,c.c.options.oa):e.getAttribute("value");case"select":return 0<=e.selectedIndex?c.k.r(e.options[e.selectedIndex]):s;default:return e.value}},S:function(e,t){switch(c.a.o(e)){case"option":switch(typeof t){case"string":c.a.f.set(e,c.c.options.oa,s),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t;break;default:c.a.f.set(e,c.c.options.oa,t),e.__ko__hasDomDataOptionValue__=o,e.value="number"==typeof t?t:""}break;case"select":for(var n=e.options.length-1;0<=n;n--)if(c.k.r(e.options[n])==t){e.selectedIndex=n;break}break;default:if(t===u||t===s)t="";e.value=t}}}}(),c.b("selectExtensions",c.k),c.b("selectExtensions.readValue",c.k.r),c.b("selectExtensions.writeValue",c.k.S),c.g=function(){function e(e,n){for(var r=u;e!=r;)r=e,e=e.replace(t,function(e,t){return n[t]});return e}var t=/\@ko_token_(\d+)\@/g,n=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,r=["true","false"];return{D:[],W:function(t){var n=c.a.w(t);if(3>n.length)return[];"{"===n.charAt(0)&&(n=n.substring(1,n.length-1));for(var t=[],r=u,i,s=0;s<n.length;s++){var o=n.charAt(s);if(r===u)switch(o){case'"':case"'":case"/":r=s,i=o}else if(o==i&&"\\"!==n.charAt(s-1)){o=n.substring(r,s+1),t.push(o);var a="@ko_token_"+(t.length-1)+"@",n=n.substring(0,r)+a+n.substring(s+1),s=s-(o.length-a.length),r=u}}i=r=u;for(var f=0,l=u,s=0;s<n.length;s++){o=n.charAt(s);if(r===u)switch(o){case"{":r=s,l=o,i="}";break;case"(":r=s,l=o,i=")";break;case"[":r=s,l=o,i="]"}o===l?f++:o===i&&(f--,0===f&&(o=n.substring(r,s+1),t.push(o),a="@ko_token_"+(t.length-1)+"@",n=n.substring(0,r)+a+n.substring(s+1),s-=o.length-a.length,r=u))}i=[],n=n.split(","),r=0;for(s=n.length;r<s;r++)f=n[r],l=f.indexOf(":"),0<l&&l<f.length-1?(o=f.substring(l+1),i.push({key:e(f.substring(0,l),t),value:e(o,t)})):i.push({unknown:e(f,t)});return i},ka:function(e){for(var t="string"==typeof e?c.g.W(e):e,i=[],e=[],s,o=0;s=t[o];o++)if(0<i.length&&i.push(","),s.key){var a;e:{a=s.key;var f=c.a.w(a);switch(f.length&&f.charAt(0)){case"'":case'"':break e;default:a="'"+f+"'"}}s=s.value,i.push(a),i.push(":"),i.push(s),f=c.a.w(s);if(0<=c.a.j(r,c.a.w(f).toLowerCase())?0:f.match(n)!==u)0<e.length&&e.push(", "),e.push(a+" : function(__ko_value) { "+s+" = __ko_value; }")}else s.unknown&&i.push(s.unknown);return t=i.join(""),0<e.length&&(t=t+", '_ko_property_writers' : { "+e.join("")+" } "),t},wb:function(e,t){for(var n=0;n<e.length;n++)if(c.a.w(e[n].key)==t)return o;return a},$:function(e,t,n,r,i){!e||!c.Ha(e)?(e=t()._ko_property_writers)&&e[n]&&e[n](r):(!i||e()!==r)&&e(r)}}}(),c.b("jsonExpressionRewriting",c.g),c.b("jsonExpressionRewriting.bindingRewriteValidators",c.g.D),c.b("jsonExpressionRewriting.parseObjectLiteral",c.g.W),c.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",c.g.ka),function(){function e(e){return 8==e.nodeType&&(a?e.text:e.nodeValue).match(f)}function n(e){return 8==e.nodeType&&(a?e.text:e.nodeValue).match(l)}function r(t,r){for(var s=t,o=1,a=[];s=s.nextSibling;){if(n(s)&&(o--,0===o))return a;a.push(s),e(s)&&o++}return r||i(Error("Cannot find closing comment tag to match: "+t.nodeValue)),u}function s(e,t){var n=r(e,t);return n?0<n.length?n[n.length-1].nextSibling:e.nextSibling:u}var a="<!--test-->"===t.createComment("test").text,f=a?/^<\!--\s*ko\s+(.*\:.*)\s*--\>$/:/^\s*ko\s+(.*\:.*)\s*$/,l=a?/^<\!--\s*\/ko\s*--\>$/:/^\s*\/ko\s*$/,h={ul:o,ol:o};c.e={C:{},childNodes:function(t){return e(t)?r(t):t.childNodes},ha:function(t){if(e(t))for(var t=c.e.childNodes(t),n=0,r=t.length;n<r;n++)c.removeNode(t[n]);else c.a.ga(t)},X:function(t,n){if(e(t)){c.e.ha(t);for(var r=t.nextSibling,i=0,s=n.length;i<s;i++)r.parentNode.insertBefore(n[i],r)}else c.a.X(t,n)},Ka:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},Fa:function(t,n,r){e(t)?t.parentNode.insertBefore(n,r.nextSibling):r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n)},firstChild:function(t){return e(t)?!t.nextSibling||n(t.nextSibling)?u:t.nextSibling:t.firstChild},nextSibling:function(t){return e(t)&&(t=s(t)),t.nextSibling&&n(t.nextSibling)?u:t.nextSibling},Xa:function(t){return(t=e(t))?t[1]:u},Ia:function(t){if(h[c.a.o(t)]){var r=t.firstChild;if(r)do if(1===r.nodeType){var i;i=r.firstChild;var a=u;if(i)do if(a)a.push(i);else if(e(i)){var f=s(i,o);f?i=f:a=[i]}else n(i)&&(a=[i]);while(i=i.nextSibling);if(i=a){a=r.nextSibling;for(f=0;f<i.length;f++)a?t.insertBefore(i[f],a):t.appendChild(i[f])}}while(r=r.nextSibling)}}}}(),c.b("virtualElements",c.e),c.b("virtualElements.allowedBindings",c.e.C),c.b("virtualElements.emptyNode",c.e.ha),c.b("virtualElements.insertAfter",c.e.Fa),c.b("virtualElements.prepend",c.e.Ka),c.b("virtualElements.setDomNodeChildren",c.e.X),function(){c.J=function(){this.cb={}},c.a.extend(c.J.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind")!=u;case 8:return c.e.Xa(e)!=u;default:return a}},getBindings:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t):u},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return c.e.Xa(e);default:return u}},parseBindingsString:function(e,t){try{var n=t.$data,n="object"==typeof n&&n!=u?[n,t]:[t],r=n.length,s=this.cb,o=r+"_"+e,a;if(!(a=s[o])){var f=" { "+c.g.ka(e)+" } ";a=s[o]=c.a.eb(f,r)}return a(n)}catch(l){i(Error("Unable to parse bindings.\nMessage: "+l+";\nBindings value: "+e))}}}),c.J.instance=new c.J}(),c.b("bindingProvider",c.J),function(){function t(e,t,r){for(var i=c.e.firstChild(t);t=i;)i=c.e.nextSibling(t),n(e,t,r)}function n(e,n,i){var s=o,a=1===n.nodeType;a&&c.e.Ia(n);if(a&&i||c.J.instance.nodeHasBindings(n))s=r(n,u,e,i).Gb;s&&t(e,n,!a)}function r(e,t,n,r){function o(e){return function(){return l[e]}}function a(){return l}var f=0,l,h;return c.h(function(){var u=n&&n instanceof c.z?n:new c.z(c.a.d(n)),p=u.$data;r&&c.Ra(e,u);if(l=("function"==typeof t?t():t)||c.J.instance.getBindings(e,u)){if(0===f){f=1;for(var d in l){var v=c.c[d];v&&8===e.nodeType&&!c.e.C[d]&&i(Error("The binding '"+d+"' cannot be used with virtual elements")),v&&"function"==typeof v.init&&(v=(0,v.init)(e,o(d),a,p,u))&&v.controlsDescendantBindings&&(h!==s&&i(Error("Multiple bindings ("+h+" and "+d+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),h=d)}f=2}if(2===f)for(d in l)(v=c.c[d])&&"function"==typeof v.update&&(0,v.update)(e,o(d),a,p,u)}},u,{disposeWhenNodeIsRemoved:e}),{Gb:h===s}}c.c={},c.z=function(e,t){t?(c.a.extend(this,t),this.$parentContext=t,this.$parent=t.$data,this.$parents=(t.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=e),this.$data=e},c.z.prototype.createChildContext=function(e){return new c.z(e,this)},c.z.prototype.extend=function(e){var t=c.a.extend(new c.z,this);return c.a.extend(t,e)},c.Ra=function(e,t){if(2!=arguments.length)return c.a.f.get(e,"__ko_bindingContext__");c.a.f.set(e,"__ko_bindingContext__",t)},c.ya=function(e,t,n){return 1===e.nodeType&&c.e.Ia(e),r(e,t,n,o)},c.Ya=function(e,n){(1===n.nodeType||8===n.nodeType)&&t(e,n,o)},c.xa=function(t,r){r&&1!==r.nodeType&&8!==r.nodeType&&i(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")),r=r||e.document.body,n(t,r,o)},c.ea=function(e){switch(e.nodeType){case 1:case 8:var t=c.Ra(e);if(t)return t;if(e.parentNode)return c.ea(e.parentNode)}},c.hb=function(e){return(e=c.ea(e))?e.$data:s},c.b("bindingHandlers",c.c),c.b("applyBindings",c.xa),c.b("applyBindingsToDescendants",c.Ya),c.b("applyBindingsToNode",c.ya),c.b("contextFor",c.ea),c.b("dataFor",c.hb)}(),c.a.v(["click"],function(e){c.c[e]={init:function(t,n,r,i){return c.c.event.init.call(this,t,function(){var t={};return t[e]=n(),t},r,i)}}}),c.c.event={init:function(e,t,n,r){var i=t()||{},s;for(s in i)(function(){var i=s;"string"==typeof i&&c.a.n(e,i,function(e){var s,u=t()[i];if(u){var f=n();try{var l=c.a.L(arguments);l.unshift(r),s=u.apply(r,l)}finally{s!==o&&(e.preventDefault?e.preventDefault():e.returnValue=a)}f[i+"Bubble"]===a&&(e.cancelBubble=o,e.stopPropagation&&e.stopPropagation())}})})()}},c.c.submit={init:function(e,t,n,r){"function"!=typeof t()&&i(Error("The value for a submit binding must be a function")),c.a.n(e,"submit",function(n){var i,s=t();try{i=s.call(r,e)}finally{i!==o&&(n.preventDefault?n.preventDefault():n.returnValue=a)}})}},c.c.visible={update:function(e,t){var n=c.a.d(t()),r="none"!=e.style.display;n&&!r?e.style.display="":!n&&r&&(e.style.display="none")}},c.c.enable={update:function(e,t){var n=c.a.d(t());n&&e.disabled?e.removeAttribute("disabled"):!n&&!e.disabled&&(e.disabled=o)}},c.c.disable={update:function(e,t){c.c.enable.update(e,function(){return!c.a.d(t())})}},c.c.value={init:function(e,t,n){function r(){var r=t(),i=c.k.r(e);c.g.$(r,n,"value",i,o)}var i=["change"],s=n().valueUpdate;s&&("string"==typeof s&&(s=[s]),c.a.N(i,s),i=c.a.za(i));if(c.a.ja&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&"off"!=e.autocomplete&&(!e.form||"off"!=e.form.autocomplete)&&-1==c.a.j(i,"propertychange")){var u=a;c.a.n(e,"propertychange",function(){u=o}),c.a.n(e,"blur",function(){u&&(u=a,r())})}c.a.v(i,function(t){var n=r;c.a.Hb(t,"after")&&(n=function(){setTimeout(r,0)},t=t.substring(5)),c.a.n(e,t,n)})},update:function(e,t){var n="select"===c.a.o(e),r=c.a.d(t()),i=c.k.r(e),s=r!=i;0===r&&0!==i&&"0"!==i&&(s=o),s&&(i=function(){c.k.S(e,r)},i(),n&&setTimeout(i,0)),n&&0<e.length&&l(e,r,a)}},c.c.options={update:function(e,n,r){"select"!==c.a.o(e)&&i(Error("options binding applies only to SELECT elements"));for(var a=0==e.length,f=c.a.T(c.a.aa(e.childNodes,function(e){return e.tagName&&"option"===c.a.o(e)&&e.selected}),function(e){return c.k.r(e)||e.innerText||e.textContent}),h=e.scrollTop,d=c.a.d(n());0<e.length;)c.F(e.options[0]),e.remove(0);if(d){r=r(),"number"!=typeof d.length&&(d=[d]);if(r.optionsCaption){var v=t.createElement("option");c.a.Y(v,r.optionsCaption),c.k.S(v,s),e.appendChild(v)}for(var n=0,g=d.length;n<g;n++){var v=t.createElement("option"),y="string"==typeof r.optionsValue?d[n][r.optionsValue]:d[n],y=c.a.d(y);c.k.S(v,y);var b=r.optionsText,y="function"==typeof b?b(d[n]):"string"==typeof b?d[n][b]:y;if(y===u||y===s)y="";c.a.Qa(v,y),e.appendChild(v)}d=e.getElementsByTagName("option"),n=v=0;for(g=d.length;n<g;n++)0<=c.a.j(f,c.k.r(d[n]))&&(c.a.Pa(d[n],o),v++);e.scrollTop=h,a&&"value"in r&&l(e,c.a.d(r.value),o),c.a.lb(e)}}},c.c.options.oa="__ko.optionValueDomData__",c.c.selectedOptions={Ea:function(e){for(var t=[],e=e.childNodes,n=0,r=e.length;n<r;n++){var i=e[n],s=c.a.o(i);"option"==s&&i.selected?t.push(c.k.r(i)):"optgroup"==s&&(i=c.c.selectedOptions.Ea(i),Array.prototype.splice.apply(t,[t.length,0].concat(i)))}return t},init:function(e,t,n){c.a.n(e,"change",function(){var e=t(),r=c.c.selectedOptions.Ea(this);c.g.$(e,n,"value",r)})},update:function(e,t){"select"!=c.a.o(e)&&i(Error("values binding applies only to SELECT elements"));var n=c.a.d(t());if(n&&"number"==typeof n.length)for(var r=e.childNodes,s=0,o=r.length;s<o;s++){var u=r[s];"option"===c.a.o(u)&&c.a.Pa(u,0<=c.a.j(n,c.k.r(u)))}}},c.c.text={update:function(e,t){c.a.Qa(e,t())}},c.c.html={init:function(){return{controlsDescendantBindings:o}},update:function(e,t){var n=c.a.d(t());c.a.Y(e,n)}},c.c.css={update:function(e,t){var n=c.a.d(t()||{}),r;for(r in n)if("string"==typeof r){var i=c.a.d(n[r]);c.a.Ua(e,r,i)}}},c.c.style={update:function(e,t){var n=c.a.d(t()||{}),r;for(r in n)if("string"==typeof r){var i=c.a.d(n[r]);e.style[r]=i||""}}},c.c.uniqueName={init:function(e,n){n()&&(e.name="ko_unique_"+ ++c.c.uniqueName.gb,(c.a.tb||c.a.ub)&&e.mergeAttributes(t.createElement("<input name='"+e.name+"'/>"),a))}},c.c.uniqueName.gb=0,c.c.checked={init:function(e,t,n){c.a.n(e,"click",function(){var r;if("checkbox"==e.type)r=e.checked;else{if("radio"!=e.type||!e.checked)return;r=e.value}var i=t();"checkbox"==e.type&&c.a.d(i)instanceof Array?(r=c.a.j(c.a.d(i),e.value),e.checked&&0>r?i.push(e.value):!e.checked&&0<=r&&i.splice(r,1)):c.g.$(i,n,"checked",r,o)}),"radio"==e.type&&!e.name&&c.c.uniqueName.init(e,f(o))},update:function(e,t){var n=c.a.d(t());"checkbox"==e.type?e.checked=n instanceof Array?0<=c.a.j(n,e.value):n:"radio"==e.type&&(e.checked=e.value==n)}};var v={"class":"className","for":"htmlFor"};c.c.attr={update:function(e,t){var n=c.a.d(t())||{},r;for(r in n)if("string"==typeof r){var i=c.a.d(n[r]),o=i===a||i===u||i===s;o&&e.removeAttribute(r),8>=c.a.ja&&r in v?(r=v[r],o?e.removeAttribute(r):e[r]=i):o||e.setAttribute(r,i.toString())}}},c.c.hasfocus={init:function(e,t,n){function r(e){var r=t();c.g.$(r,n,"hasfocus",e,o)}c.a.n(e,"focus",function(){r(o)}),c.a.n(e,"focusin",function(){r(o)}),c.a.n(e,"blur",function(){r(a)}),c.a.n(e,"focusout",function(){r(a)})},update:function(e,t){var n=c.a.d(t());n?e.focus():e.blur(),c.a.va(e,n?"focusin":"focusout")}},c.c["with"]={p:function(e){return function(){var t=e();return{"if":t,data:t,templateEngine:c.q.K}}},init:function(e,t){return c.c.template.init(e,c.c["with"].p(t))},update:function(e,t,n,r,i){return c.c.template.update(e,c.c["with"].p(t),n,r,i)}},c.g.D["with"]=a,c.e.C["with"]=o,c.c["if"]={p:function(e){return function(){return{"if":e(),templateEngine:c.q.K}}},init:function(e,t){return c.c.template.init(e,c.c["if"].p(t))},update:function(e,t,n,r,i){return c.c.template.update(e,c.c["if"].p(t),n,r,i)}},c.g.D["if"]=a,c.e.C["if"]=o,c.c.ifnot={p:function(e){return function(){return{ifnot:e(),templateEngine:c.q.K}}},init:function(e,t){return c.c.template.init(e,c.c.ifnot.p(t))},update:function(e,t,n,r,i){return c.c.template.update(e,c.c.ifnot.p(t),n,r,i)}},c.g.D.ifnot=a,c.e.C.ifnot=o,c.c.foreach={p:function(e){return function(){var t=c.a.d(e());return!t||"number"==typeof t.length?{foreach:t,templateEngine:c.q.K}:{foreach:t.data,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,templateEngine:c.q.K}}},init:function(e,t){return c.c.template.init(e,c.c.foreach.p(t))},update:function(e,t,n,r,i){return c.c.template.update(e,c.c.foreach.p(t),n,r,i)}},c.g.D.foreach=a,c.e.C.foreach=o,c.t=function(){},c.t.prototype.renderTemplateSource=function(){i(Error("Override renderTemplateSource"))},c.t.prototype.createJavaScriptEvaluatorBlock=function(){i(Error("Override createJavaScriptEvaluatorBlock"))},c.t.prototype.makeTemplateSource=function(e,n){if("string"==typeof e){var n=n||t,r=n.getElementById(e);return r||i(Error("Cannot find template with ID "+e)),new c.l.i(r)}if(1==e.nodeType||8==e.nodeType)return new c.l.M(e);i(Error("Unknown template type: "+e))},c.t.prototype.renderTemplate=function(e,t,n,r){return this.renderTemplateSource(this.makeTemplateSource(e,r),t,n)},c.t.prototype.isTemplateRewritten=function(e,n){return this.allowTemplateRewriting===a||(!n||n==t)&&this.V&&this.V[e]?o:this.makeTemplateSource(e,n).data("isRewritten")},c.t.prototype.rewriteTemplate=function(e,n,r){var i=this.makeTemplateSource(e,r),n=n(i.text());i.text(n),i.data("isRewritten",o),(!r||r==t)&&"string"==typeof e&&(this.V=this.V||{},this.V[e]=o)},c.b("templateEngine",c.t),c.Z=function(){function e(e,t,n){for(var e=c.g.W(e),r=c.g.D,s=0;s<e.length;s++){var o=e[s].key;if(r.hasOwnProperty(o)){var u=r[o];"function"==typeof u?(o=u(e[s].value))&&i(Error(o)):u||i(Error("This template engine does not support the '"+o+"' binding within its templates"))}}return e="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+c.g.ka(e)+" } })()         })",n.createJavaScriptEvaluatorBlock(e)+t}var t=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,n=/<\!--\s*ko\b\s*([\s\S]*?)\s*--\>/g;return{mb:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return c.Z.zb(e,t)},n)},zb:function(r,i){return r.replace(t,function(t,n,r,s,o,u,a){return e(a,n,i)}).replace(n,function(t,n){return e(n,"<!-- ko -->",i)})},Za:function(e){return c.s.na(function(t,n){t.nextSibling&&c.ya(t.nextSibling,e,n)})}}}(),c.b("templateRewriting",c.Z),c.b("templateRewriting.applyMemoizedBindingsToNextSibling",c.Z.Za),function(){c.l={},c.l.i=function(e){this.i=e},c.l.i.prototype.text=function(){var e=c.a.o(this.i),e="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.i[e];var t=arguments[0];"innerHTML"===e?c.a.Y(this.i,t):this.i[e]=t},c.l.i.prototype.data=function(e){if(1===arguments.length)return c.a.f.get(this.i,"templateSourceData_"+e);c.a.f.set(this.i,"templateSourceData_"+e,arguments[1])},c.l.M=function(e){this.i=e},c.l.M.prototype=new c.l.i,c.l.M.prototype.text=function(){if(0==arguments.length){var e=c.a.f.get(this.i,"__ko_anon_template__")||{};return e.ua===s&&e.da&&(e.ua=e.da.innerHTML),e.ua}c.a.f.set(this.i,"__ko_anon_template__",{ua:arguments[0]})},c.l.i.prototype.nodes=function(){if(0==arguments.length)return(c.a.f.get(this.i,"__ko_anon_template__")||{}).da;c.a.f.set(this.i,"__ko_anon_template__",{da:arguments[0]})},c.b("templateSources",c.l),c.b("templateSources.domElement",c.l.i),c.b("templateSources.anonymousTemplate",c.l.M)}(),function(){function e(e,t,n){for(var r,t=c.e.nextSibling(t);e&&(r=e)!==t;)e=c.e.nextSibling(r),(1===r.nodeType||8===r.nodeType)&&n(r)}function t(t,n){if(t.length){var r=t[0],i=t[t.length-1];e(r,i,function(e){c.xa(n,e)}),e(r,i,function(e){c.s.Wa(e,[n])})}}function n(e){return e.nodeType?e:0<e.length?e[0]:u}function r(e,r,s,u,l){var l=l||{},h=e&&n(e),h=h&&h.ownerDocument,d=l.templateEngine||f;c.Z.mb(s,d,h),s=d.renderTemplate(s,u,l,h),("number"!=typeof s.length||0<s.length&&"number"!=typeof s[0].nodeType)&&i(Error("Template engine must return an array of DOM nodes")),h=a;switch(r){case"replaceChildren":c.e.X(e,s),h=o;break;case"replaceNode":c.a.Na(e,s),h=o;break;case"ignoreTargetNode":break;default:i(Error("Unknown renderMode: "+r))}return h&&(t(s,u),l.afterRender&&l.afterRender(s,u.$data)),s}var f;c.ra=function(e){e!=s&&!(e instanceof c.t)&&i(Error("templateEngine must inherit from ko.templateEngine")),f=e},c.qa=function(e,t,o,a,l){o=o||{},(o.templateEngine||f)==s&&i(Error("Set a template engine before calling renderTemplate")),l=l||"replaceChildren";if(a){var h=n(a);return c.h(function(){var i=t&&t instanceof c.z?t:new c.z(c.a.d(t)),s="function"==typeof e?e(i.$data):e,i=r(a,l,s,i,o);"replaceNode"==l&&(a=i,h=n(a))},u,{disposeWhen:function(){return!h||!c.a.fa(h)},disposeWhenNodeIsRemoved:h&&"replaceNode"==l?h.parentNode:h})}return c.s.na(function(n){c.qa(e,t,o,n,"replaceNode")})},c.Fb=function(e,n,i,o,a){function f(e,n){t(n,h),i.afterRender&&i.afterRender(n,e)}function l(t,n){var s="function"==typeof e?e(t):e;return h=a.createChildContext(c.a.d(t)),h.$index=n,r(u,"ignoreTargetNode",s,h,i)}var h;return c.h(function(){var e=c.a.d(n)||[];"undefined"==typeof e.length&&(e=[e]),e=c.a.aa(e,function(e){return i.includeDestroyed||e===s||e===u||!c.a.d(e._destroy)}),c.a.Oa(o,e,l,i,f)},u,{disposeWhenNodeIsRemoved:o})},c.c.template={init:function(e,t){var n=c.a.d(t());return"string"!=typeof n&&!n.name&&(1==e.nodeType||8==e.nodeType)&&(n=1==e.nodeType?e.childNodes:c.e.childNodes(e),n=c.a.Ab(n),(new c.l.M(e)).nodes(n)),{controlsDescendantBindings:o}},update:function(e,t,n,r,i){t=c.a.d(t()),r=o,"string"==typeof t?n=t:(n=t.name,"if"in t&&(r=r&&c.a.d(t["if"])),"ifnot"in t&&(r=r&&!c.a.d(t.ifnot)));var s=u;"object"==typeof t&&"foreach"in t?s=c.Fb(n||e,r&&t.foreach||[],t,e,i):r?(i="object"==typeof t&&"data"in t?i.createChildContext(c.a.d(t.data)):i,s=c.qa(n||e,i,t,e)):c.e.ha(e),i=s,(t=c.a.f.get(e,"__ko__templateSubscriptionDomDataKey__"))&&"function"==typeof t.A&&t.A(),c.a.f.set(e,"__ko__templateSubscriptionDomDataKey__",i)}},c.g.D.template=function(e){return e=c.g.W(e),1==e.length&&e[0].unknown||c.g.wb(e,"name")?u:"This template engine does not support anonymous templates nested within its templates"},c.e.C.template=o}(),c.b("setTemplateEngine",c.ra),c.b("renderTemplate",c.qa),function(){c.a.O=function(e,t,n){if(n===s)return c.a.O(e,t,1)||c.a.O(e,t,10)||c.a.O(e,t,Number.MAX_VALUE);for(var e=e||[],t=t||[],r=e,i=t,o=[],a=0;a<=i.length;a++)o[a]=[];for(var a=0,f=Math.min(r.length,n);a<=f;a++)o[0][a]=a;a=1;for(f=Math.min(i.length,n);a<=f;a++)o[a][0]=a;for(var f=r.length,l,h=i.length,a=1;a<=f;a++){l=Math.max(1,a-n);for(var p=Math.min(h,a+n);l<=p;l++)o[l][a]=r[a-1]===i[l-1]?o[l-1][a-1]:Math.min(o[l-1][a]===s?Number.MAX_VALUE:o[l-1][a]+1,o[l][a-1]===s?Number.MAX_VALUE:o[l][a-1]+1)}n=e.length,r=t.length,i=[],a=o[r][n];if(a===s)o=u;else{for(;0<n||0<r;){f=o[r][n],h=0<r?o[r-1][n]:a+1,p=0<n?o[r][n-1]:a+1,l=0<r&&0<n?o[r-1][n-1]:a+1;if(h===s||h<f-1)h=a+1;if(p===s||p<f-1)p=a+1;l<f-1&&(l=a+1),h<=p&&h<l?(i.push({status:"added",value:t[r-1]}),r--):(p<h&&p<l?i.push({status:"deleted",value:e[n-1]}):(i.push({status:"retained",value:e[n-1]}),r--),n--)}o=i.reverse()}return o}}(),c.b("utils.compareArrays",c.a.O),function(){function e(e){if(2<e.length){for(var t=e[0],n=e[e.length-1],r=[t];t!==n;){t=t.nextSibling;if(!t)return;r.push(t)}Array.prototype.splice.apply(e,[0,e.length].concat(r))}}function t(t,n,r,i,s){var o=[],t=c.h(function(){var t=n(r,s)||[];0<o.length&&(e(o),c.a.Na(o,t),i&&i(r,t)),o.splice(0,o.length),c.a.N(o,t)},u,{disposeWhenNodeIsRemoved:t,disposeWhen:function(){return 0==o.length||!c.a.fa(o[0])}});return{xb:o,h:t}}c.a.Oa=function(n,r,i,f,l){for(var r=r||[],f=f||{},h=c.a.f.get(n,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===s,d=c.a.f.get(n,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],v=c.a.T(d,function(e){return e.$a}),m=c.a.O(v,r),r=[],g=0,y=[],w=0,v=[],E=u,S=0,x=m.length;S<x;S++)switch(m[S].status){case"retained":var T=d[g];T.qb(w),w=r.push(T),0<T.P.length&&(E=T.P[T.P.length-1]),g++;break;case"deleted":d[g].h.A(),e(d[g].P),c.a.v(d[g].P,function(e){y.push({element:e,index:S,value:m[S].value}),E=e}),g++;break;case"added":for(var T=m[S].value,N=c.m(w),w=t(n,i,T,l,N),C=w.xb,w=r.push({$a:m[S].value,P:C,h:w.h,qb:N}),k=0,L=C.length;k<L;k++){var A=C[k];v.push({element:A,index:S,value:m[S].value}),E==u?c.e.Ka(n,A):c.e.Fa(n,A,E),E=A}l&&l(T,C,N)}c.a.v(y,function(e){c.F(e.element)}),i=a;if(!h){if(f.afterAdd)for(S=0;S<v.length;S++)f.afterAdd(v[S].element,v[S].index,v[S].value);if(f.beforeRemove){for(S=0;S<y.length;S++)f.beforeRemove(y[S].element,y[S].index,y[S].value);i=o}}if(!i&&y.length)for(S=0;S<y.length;S++)f=y[S].element,f.parentNode&&f.parentNode.removeChild(f);c.a.f.set(n,"setDomNodeChildrenFromArrayMapping_lastMappingResult",r)}}(),c.b("utils.setDomNodeChildrenFromArrayMapping",c.a.Oa),c.q=function(){this.allowTemplateRewriting=a},c.q.prototype=new c.t,c.q.prototype.renderTemplateSource=function(e){var t=9>c.a.ja||!e.nodes?u:e.nodes();return t?c.a.L(t.cloneNode(o).childNodes):(e=e.text(),c.a.pa(e))},c.q.K=new c.q,c.ra(c.q.K),c.b("nativeTemplateEngine",c.q),function(){c.ma=function(){var e=this.vb=function(){if("undefined"==typeof jQuery||!jQuery.tmpl)return 0;try{if(0<=jQuery.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(n,r,s){s=s||{},2>e&&i(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));var o=n.data("precompiled");return o||(o=n.text()||"",o=jQuery.template(u,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),n.data("precompiled",o)),n=[r.$data],r=jQuery.extend({koBindingContext:r},s.templateOptions),r=jQuery.tmpl(o,n,r),r.appendTo(t.createElement("div")),jQuery.fragments={},r},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,n){t.write("<script type='text/html' id='"+e+"'>"+n+"</script>")},0<e&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},c.ma.prototype=new c.t;var e=new c.ma;0<e.vb&&c.ra(e),c.b("jqueryTmplTemplateEngine",c.ma)}()}var s=void 0,o=!0,u=null,a=!1;"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?l(module.exports||exports):"function"==typeof define&&define.amd?define("knockout",["exports"],l):l(e.ko={}),o}(window,document,navigator),define("text!resources/template.html",[],function(){return'<div id="node-field" class="row-fluid" data-bind="nodeViewport: viewport">\n\n  <div id="stats">\n    <ul data-bind="foreach: stats">\n      <li>\n        <i data-bind="css: { \'icon-bolt\': name === \'generator\' }"></i>\n        <span data-bind="text: current() + \'/\' + max()"></span>\n      </li>\n    </ul>\n  </div>\n\n  <ul data-bind="foreach: nodes">\n    <li class="node" data-bind="baseNode: $data">\n      <div data-bind="if: maxPoints, click: $parent.select">\n        <i class="icon-bolt" data-bind="attr: { title: points() + \'/\' + maxPoints() }"></i>\n      </div>\n    </li>\n  </ul>\n\n</div>\n'}),define("resources/viewport",["knockout"],function(e){return function(){var t=this;t.centerX=e.observable(0),t.centerY=e.observable(0),t.width=e.observable(),t.height=e.observable(),t.halfWidth=e.computed(function(){return t.width()/2}),t.halfHeight=e.computed(function(){return t.height()/2})}}),define("resources/stat",["knockout","underscore"],function(e,t){var n=function(e,n){return function(){var r=function(t,n){return t+(n[e]&&n[e]())||0};return t.reduce(n(),r,0)}};return function(t,r,i,s){this.name=r,this.current=e.computed(n(i,t)),this.max=e.computed(n(s,t))}}),define("resources/nodeField",["knockout","underscore","resources/viewport","resources/stat"],function(e,t,n,r){return function(){var i=this;i.nodes=e.observableArray(),i.stats=e.observableArray(),i.viewport=new n,i.findStat=function(e){var n=function(){return stat.name==e};return t.find(i.stats(),n)},i.addNodeStats=function(e){if(!e.metadata)return;var n=e.metadata;t.each(n.stats,function(e){if(i.findStat(e.name))return;i.stats.push(new r(i.nodes,e.name,e.current,e.max))})},i.onNodeAdded=function(e){t.each(e,function(e){i.addNodeStats(e)})},i.nodes.subscribe(i.onNodeAdded)}}),define("resources/generator",["knockout"],function(e){var t={stats:[{name:"generator",current:"points",max:"maxPoints"}]},n=function(){var n=this;n.metadata=t,n.x=e.observable(0),n.y=e.observable(0),n.points=e.observable(0),n.maxPoints=e.observable(10),n.rate=e.observable(1)};return n}),define("resources/ko/ko.baseNode",["knockout"],function(e){var t=function(e,t,n){var r=n.centerX()+t.x()+n.halfWidth(),i=n.centerY()+t.y()+n.halfHeight();e.css("left",r).css("top",i).width(40).height(40)};e.bindingHandlers.baseNode={init:function(e,n,r,i,s){var o=$(e),u=n(),a=s.$parent,f=a.viewport;t(o,u,f)},update:function(e,n,r,i,s){var o=$(e),u=n(),a=s.$parent,f=a.viewport;t(o,u,f)}}}),define("resources/ko/ko.nodeViewport",["knockout"],function(e){var t=function(e,t){var n=$(t),r=$(window);n.width(r.width()),n.height(r.height()),e.width(n.width()),e.height(n.height())},n=function(e,t){var n=$(t),r=!1,i,s;$(t).mousedown(function(e){r=!0,i=e.clientX,s=e.clientY}).mouseup(function(){r=!1}).mousemove(function(t){if(r){var n=i-t.clientX,o=s-t.clientY;e.centerX(e.centerX()-n),e.centerY(e.centerY()-o),i=t.clientX,s=t.clientY}})};e.bindingHandlers.nodeViewport={init:function(e,r){var i=r();$(window).resize(function(){t(i,e)}),t(i,e),n(i,e)}}}),define("resources/resources",["knockout","text!resources/template.html","resources/nodeField","resources/generator","resources/ko/ko.baseNode","resources/ko/ko.nodeViewport"],function(e,t,n,r,i){return function(){var i=this;i.nodeField=new n,i.nodeField.nodes.push(new r),i.init=function(){$("#app").html(t),e.applyBindings(i.nodeField,$(".node-field")[0])}}}),define("resources/app",["resources/resources"],function(e){return function(){var t=new e;t.init()}}),define("frontpage/frontpage",["underscore","text!frontpage/template.html","system/urlHash","resources/app","hashchange"],function(e,t,n,r){var i=function(){var e=function(e){var t=s[e.app]||s.frontpage;o(t)};n.changed.add(e);var i=function(){$("#app").html(t)},s={frontpage:i,resources:r},o=function(e){var t=$("#app");t.fadeOut("fast",function(){e(),t.fadeIn("slow")})}};return i}),require(["frontpage/frontpage","system/urlHash"],function(e,t){e(),t.onHashchange()}),define("main",function(){})